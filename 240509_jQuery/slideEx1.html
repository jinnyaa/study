<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>animateEx5</title>
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
    <link rel="stylesheet" href="../assets/styles/reset.css">
    <style>
        .simple-slide{
            width: 100%;
            margin: 0 auto;
            height: 60vh;
            position: relative;
        }
        .simple-slide .slide-wrapper .slide-item{
            text-indent: -9999px;
            width: 100%; height: 100%;
            position: absolute;
            top: 0; left: 0;
            background: no-repeat 50% / cover;
            transition: 0.4s;
            opacity: 0;
        }
        .simple-slide .slide-wrapper #bg1{background-image: url(https://placehold.co/600x400/EEF7FF/ddd?text=img1);}
        .simple-slide .slide-wrapper #bg2{background-image: url(https://placehold.co/600x400/CDE8E5/ddd?text=img2);}
        .simple-slide .slide-wrapper #bg3{background-image: url(https://placehold.co/600x400/7AB2B2/ddd?text=img3);}
        .simple-slide .slide-wrapper #bg4{background-image: url(https://placehold.co/600x400/4D869C/ddd?text=img4);}
        
        .simple-slide .slide-wrapper .slide-item.active{
            opacity: 1;
        }
        .simple-slide .slide-button{
            position: absolute;
            top: 50%;
            transform: translateY(50%);
            display: flex;
            justify-content: space-between;
            width: 100%;
        }
        .simple-slide .slide-button li{
            cursor: pointer;
            user-select: none;
            background-color: rgb(95, 95, 95,0.2);
            padding: 5px 10px;
            font-weight: bold;
            font-size: 1.4rem;
        }
        .simple-slide .slide-button li:hover{
            background-color: rgb(95, 95, 95,0.5);
        }
    </style>
    <script src="../assets/jquery-3.7.1.min.js"></script>
    <script src="../assets/jquery-ui.min.js"></script>
</head>

<body>
    <div class="simple-slide">
      <ul class="slide-wrapper">
        <li class="slide-item active" id="bg1">bg1</li>
        <li class="slide-item" id="bg2">bg2</li>
        <li class="slide-item" id="bg3">bg3</li>
        <li class="slide-item" id="bg4">bg4</li>
      </ul>
      <ul class="slide-button">
        <li id="prevBtn">&lt;</li>
        <li id="nextBtn">&gt;</li>
      </ul>
    </div>

    <script>
        let idx = 0;
        function nextSlide(){
        $('.slide-wrapper .slide-item').eq(idx).removeClass('active');
        
        idx++;

        const slideItems = $('.slide-wrapper .slide-item').length;

        if(idx >= slideItems) {
        idx = 0;// 초기화. 0,1,2,3}
        }
        $('.slide-wrapper .slide-item').eq(idx).addClass('active');
        }


        const prevSlide=()=>{
        $('.slide-wrapper .slide-item').eq(idx).removeClass('active');
        
        idx--;

        const slideItems = $('.slide-wrapper .slide-item').length;

        if(idx < 0) {
        idx = $('.slide-wrapper .slide-item').length -1;
        }
        $('.slide-wrapper .slide-item').eq(idx).addClass('active');
        }
        

        // next 버튼 클릭시 이후 == 슬라이드 움직임과 동일
        $('#nextBtn').on('click',nextSlide);
        // prev 버튼 클릭시 이전
        $('#prevBtn').on('click',prevSlide);
    
    
        // setInterval(콜백함수, 3000);
        setInterval(nextSlide, 3000);

      </script>
</body>
</html>